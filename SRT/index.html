
<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exam36 VTT å­—å¹•æ ¡æ­£å·¥å…· - ç¨‹å¼æµç¨‹åœ–</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            background: #f5f5f5;
        }

        .nav-tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #666;
        }

        .nav-tab:hover {
            background: #efefef;
        }

        .nav-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .content {
            padding: 40px;
            display: none;
        }

        .content.active {
            display: block;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .flow-step {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        .flow-step.input {
            border-left: 5px solid #4CAF50;
            background: #f1f8f4;
        }

        .flow-step.process {
            border-left: 5px solid #667eea;
            background: #f0f4ff;
        }

        .flow-step.decision {
            border-left: 5px solid #ff9800;
            background: #fff8f0;
        }

        .flow-step.output {
            border-left: 5px solid #2196F3;
            background: #f0f7ff;
        }

        .flow-step h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .flow-step p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .step-code {
            background: #f5f5f5;
            border-left: 3px solid #667eea;
            padding: 10px 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border-radius: 4px;
            overflow-x: auto;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: #667eea;
        }

        .timeline-item {
            margin-left: 80px;
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -60px;
            top: 5px;
            width: 15px;
            height: 15px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 50%;
        }

        .timeline-item-time {
            font-weight: bold;
            color: #667eea;
            font-family: 'Courier New', monospace;
        }

        .timeline-item-content {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #667eea;
        }

        .insight-box {
            background: #fffbf0;
            border-left: 4px solid #ff9800;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .insight-box h3 {
            color: #ff9800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .insight-box ul {
            list-style: none;
            padding: 0;
        }

        .insight-box li {
            padding: 8px 0;
            color: #666;
            line-height: 1.6;
            border-bottom: 1px solid #ffe0b2;
        }

        .insight-box li:last-child {
            border-bottom: none;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        button.secondary {
            background: #e0e0e0;
            color: #333;
        }

        button.secondary:hover {
            background: #d0d0d0;
        }

        .data-flow-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }

        .data-flow-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .data-flow-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .data-flow-table tr:hover {
            background: #f5f5f5;
        }

        .data-flow-table tr:nth-child(even) {
            background: #fafafa;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-box {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .comparison-box h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .comparison-box ul {
            list-style: none;
            padding: 0;
        }

        .comparison-box li {
            padding: 8px 0;
            color: #666;
            border-bottom: 1px solid #e0e0e0;
        }

        .comparison-box li:last-child {
            border-bottom: none;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.5;
        }

        .code-block .keyword {
            color: #ff79c6;
        }

        .code-block .string {
            color: #f1fa8c;
        }

        .code-block .comment {
            color: #6272a4;
        }

        .code-block .function {
            color: #8be9fd;
        }

        .expandable {
            margin: 15px 0;
        }

        .expandable-header {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            user-select: none;
        }

        .expandable-header:hover {
            background: #e8eeff;
        }

        .expandable-header.expanded {
            background: #667eea;
            color: white;
        }

        .expandable-content {
            display: none;
            background: white;
            border: 1px solid #e0e0e0;
            border-top: none;
            padding: 20px;
            border-radius: 0 0 6px 6px;
        }

        .expandable-content.visible {
            display: block;
        }

        .icon {
            font-size: 1.2em;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .nav-tab {
                padding: 15px;
                border-bottom: 3px solid transparent;
                border-right: 3px solid transparent;
            }

            .nav-tab.active {
                border-bottom: 3px solid #667eea;
                border-right: 3px solid #667eea;
            }

            .comparison {
                grid-template-columns: 1fr;
            }

            .content {
                padding: 20px;
            }
        }

        .footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ¬ exam36 VTT å­—å¹•æ ¡æ­£å·¥å…·</h1>
            <p>ç¨‹å¼æµç¨‹èˆ‡æ¶æ§‹è©³è§£</p>
        </header>

        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab(0)">ğŸ“Š å®Œæ•´æµç¨‹åœ–</div>
            <div class="nav-tab" onclick="switchTab(1)">ğŸ”„ åŸ·è¡Œæ¨¡å¼</div>
            <div class="nav-tab" onclick="switchTab(2)">7ï¸âƒ£ æ ¡æ­£æµç¨‹</div>
            <div class="nav-tab" onclick="switchTab(3)">ğŸ¤– AI å±¤</div>
            <div class="nav-tab" onclick="switchTab(4)">ğŸ“ˆ æ™‚é–“ç·š</div>
            <div class="nav-tab" onclick="switchTab(5)">ğŸ’¡ æ ¸å¿ƒè¨­è¨ˆ</div>
        </div>

        <!-- TAB 1: å®Œæ•´æµç¨‹åœ– -->
        <div class="content active">
            <div class="section">
                <h2 class="section-title">ğŸ“Š å®Œæ•´ç¨‹å¼æµç¨‹åœ–</h2>

                <div class="mermaid">
                    graph TD
                    Start["ğŸš€ é–‹å§‹<br />python -m src.main input.vtt"] --> ParseArgs["ğŸ“ è§£æå‘½ä»¤è¡Œåƒæ•¸<br />create_parser"]
                    ParseArgs --> ValidateArgs["âœ“ é©—è­‰åƒæ•¸<br />- VTT æª”æ¡ˆå­˜åœ¨<br />- å“è³ª 0-1<br />- è¿­ä»£ >= 1"]
                    ValidateArgs --> SetupLog["ğŸ”§ è¨­ç½®æ—¥èªŒ<br />setup_logging"]
                    SetupLog --> InitGemini["ğŸ¤– åˆå§‹åŒ– Gemini<br />GeminiClient"]
                    InitGemini --> Decision1{"å•Ÿç”¨ Ralph Loop?<br />--enable-ralph-loop"}

                    Decision1 -->|YES| InitEngine["âš™ï¸ åˆå§‹åŒ– Ralph Loop<br />RalphLoopEngine"]
                    Decision1 -->|NO| SinglePass["â–¶ï¸ å–®æ¬¡æ ¡æ­£"]

                    InitEngine --> LoopStart["ğŸ” é–‹å§‹è¿­ä»£å¾ªç’°"]
                    LoopStart --> Correction["ğŸ”„ åŸ·è¡Œæ ¡æ­£ (7 æ­¥é©Ÿ)<br />correct_vtt_full"]
                    Correction --> Evaluate["ğŸ“Š è©•ä¼°å“è³ªåˆ†æ•¸<br />_evaluate_quality"]
                    Evaluate --> CheckCompletion{"å®Œæˆæ¢ä»¶?<br />- è³ªé‡ >= 0.95<br />- 3æ¬¡&lt;1% æ”¹å–„<br />- é”åˆ° max_iter"}

                    CheckCompletion -->|å®Œæˆ| SaveFinal["ğŸ’¾ è¤‡è£½æœ€çµ‚çµæœ"]
                    CheckCompletion -->|ç¹¼çºŒ| SaveIter["ğŸ’¾ ä¿å­˜è¿­ä»£ç‹€æ…‹<br />iterations/iter_i/"]
                    SaveIter --> NextInput["â¡ï¸ æº–å‚™ä¸‹æ¬¡è¼¸å…¥<br />current_input = iter_i/corrected.vtt"]
                    NextInput --> Correction

                    SinglePass --> SaveFinal
                    SaveFinal --> PrintResult["ğŸ–¨ï¸ æ‰“å°çµæœæ‘˜è¦<br />print_result_summary"]
                    PrintResult --> Exit["âœ… å®Œæˆ<br />sys.exit(0)"]

                </div>

                <div class="flow-step process">
                    <h4>ğŸ¯ ä¸»è¦æµç¨‹ç‰¹é»</h4>
                    <p>âœ“ å‘½ä»¤è¡Œè§£æ â†’ åƒæ•¸é©—è­‰ â†’ ä¾æ¢ä»¶åˆ†å‰åŸ·è¡Œ</p>
                    <p>âœ“ Ralph Loop æ¨¡å¼ï¼šè¿­ä»£è‡³å“è³ªç›®æ¨™æˆ–æ”¶æ–‚</p>
                    <p>âœ“ å–®æ¬¡æ¨¡å¼ï¼šä¸€æ¬¡æ€§æ ¡æ­£ï¼Œç„¡è¿­ä»£</p>
                </div>
            </div>
        </div>

        <!-- TAB 2: åŸ·è¡Œæ¨¡å¼å°æ¯” -->
        <div class="content">
            <div class="section">
                <h2 class="section-title">ğŸ”„ é›™åŸ·è¡Œæ¨¡å¼è©³è§£</h2>

                <div class="comparison">
                    <div class="comparison-box">
                        <h4>ğŸ” Ralph Loop æ¨¡å¼ (æ¨è–¦)</h4>
                        <ul>
                            <li>âœ“ è¿­ä»£æ”¹é€²è‡³ 95%+ å“è³ª</li>
                            <li>âœ“ æ¯æ¬¡è¿­ä»£ä¿å­˜å®Œæ•´ç‹€æ…‹</li>
                            <li>âœ“ è‡ªå‹•æ”¶æ–‚åˆ¤å®š</li>
                            <li>âœ“ ç”Ÿæˆè¿­ä»£æ­·ç¨‹è¨˜éŒ„</li>
                            <li>âœ“ é©åˆé«˜å“è³ªè¦æ±‚</li>
                        </ul>
                    </div>
                    <div class="comparison-box">
                        <h4>â–¶ï¸ å–®æ¬¡æ ¡æ­£æ¨¡å¼</h4>
                        <ul>
                            <li>âœ“ ä¸€æ¬¡æ€§åŸ·è¡Œ 7 æ­¥é©Ÿ</li>
                            <li>âœ“ é€Ÿåº¦å¿« (1-2 åˆ†é˜)</li>
                            <li>âœ“ æˆæœ¬ä½ (1 æ¬¡ API å‘¼å«)</li>
                            <li>âœ“ é©åˆå¿«é€Ÿé è¦½</li>
                            <li>âœ“ ç„¡è¿­ä»£è¨˜éŒ„</li>
                        </ul>
                    </div>
                </div>

                <h3 style="margin-top: 40px; margin-bottom: 20px;">Ralph Loop æ ¸å¿ƒè¿´åœˆ</h3>

                <div class="mermaid">
                    graph LR
                    A["è¿­ä»£ i<br />correct_vtt_full"] --> B["è©•ä¼°å“è³ª<br />quality_score"]
                    B --> C{"å“è³ª >= 95%?"}
                    C -->|æ˜¯| D["âœ… å®Œæˆ"]
                    C -->|å¦| E["ä¿å­˜ç‹€æ…‹<br />iterations/iter_i/"]
                    E --> F["ä½¿ç”¨ corrected.vtt<br />ä½œç‚ºä¸‹æ¬¡è¼¸å…¥"]
                    F --> A
                </div>

                <table class="data-flow-table">
                    <thead>
                        <tr>
                            <th>è¿­ä»£å…ƒä»¶</th>
                            <th>èªªæ˜</th>
                            <th>è¼¸å‡º</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>è¼¸å…¥</strong></td>
                            <td>è¿­ä»£ 1: åŸå§‹ input.vtt<br />è¿­ä»£ n: iter_(n-1)/corrected.vtt</td>
                            <td>VTT æª”æ¡ˆ</td>
                        </tr>
                        <tr>
                            <td><strong>æ ¡æ­£å¼•æ“</strong></td>
                            <td>åŸ·è¡Œ 7 æ­¥é©Ÿæµç¨‹</td>
                            <td>ä¿®æ­£å¾Œçš„ VTT + è¨˜éŒ„</td>
                        </tr>
                        <tr>
                            <td><strong>å“è³ªè©•ä¼°</strong></td>
                            <td>4 å€‹åŠ æ¬ŠæŒ‡æ¨™ (40% + 20% + 30% + 10%)</td>
                            <td>è³ªåˆ†æ•¸ (0~1)</td>
                        </tr>
                        <tr>
                            <td><strong>å®Œæˆåˆ¤å®š</strong></td>
                            <td>æª¢æŸ¥ 3 å€‹æ¢ä»¶ï¼šå“è³ª / æ”¶æ–‚ / æ¬¡æ•¸</td>
                            <td>ç¹¼çºŒæˆ–åœæ­¢</td>
                        </tr>
                        <tr>
                            <td><strong>ç‹€æ…‹æŒä¹…åŒ–</strong></td>
                            <td>ä¿å­˜åˆ° iterations/iter_i/ ç›®éŒ„</td>
                            <td>å®Œæ•´çš„è¿­ä»£è¨˜éŒ„</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- TAB 3: 7æ­¥é©Ÿæ ¡æ­£æµç¨‹ -->
        <div class="content">
            <div class="section">
                <h2 class="section-title">7ï¸âƒ£ VTT æ ¡æ­£æµç¨‹è©³è§£</h2>

                <div class="mermaid">
                    graph TD
                    Input["ğŸ“¥ input.vtt"]
                    Step1["â“µ STEP 1: è§£æ VTT<br />parse_vtt<br />- é©—è­‰ WEBVTT æ¨™é ­<br />- æå–æ™‚é–“æˆ³<br />- è§£æå­—å¹•æ–‡æœ¬"] --> Step2["â“¶
                    STEP 2: ä¸»é¡Œåµæ¸¬<br />detect_topic<br />- æ™ºèƒ½æ¡æ¨£ (åˆ†å¸ƒå¼)<br />- AI è­˜åˆ¥é ˜åŸŸ+ä¿¡å¿ƒåº¦<br />- è¼¸å‡º: domain, keywords,
                    confidence"]
                    Step2 --> Step3["â“· STEP 3: è¡“èªæå–<br />extract_terminology<br />- æ¡æ¨£å‰ 10 å€‹ cue<br />- AI æå–å°ˆæ¥­è©å½™<br />-
                    å»ºç«‹è¡“èªè¡¨"]
                    Step3 --> Step3_5["â“·.5 STEP 3.5: è¡“èªå›é¥‹ ğŸ†•<br />refine_topic_with_terminology<br />- äº¤å‰é©—è­‰è¡“èªèˆ‡ä¸»é¡Œ<br />-
                    å‡ç´šä½ä¿¡å¿ƒé ˜åŸŸ"]
                    Step3_5 --> Step4["â“¸ STEP 4: ç¸®å¯«å°ç…§<br />map_abbreviations<br />- å•Ÿç™¼å¼: ALL-CAPS<br />- èˆ‡è¡“èªåŒ¹é…<br />-
                    å»ºç«‹ç¸®å¯«è¡¨"]
                    Step4 --> Step5["â“¹ STEP 5: æ‰¹æ¬¡æ ¡æ­£ â­<br />correct_cues_batch<br />- åˆ†æ‰¹ (é è¨­ 75 cues)<br />- AI
                    æ ¡æ­£æ‹¼å¯«/æ–‡æ³•<br />- ç”Ÿæˆä¿®æ­£è¨˜éŒ„"]
                    Step5 --> Step6["â“º STEP 6: è¼¸å‡ºç”Ÿæˆ<br />generate_outputs<br />- å¯«å…¥ corrected.vtt<br />- å¯«å…¥ä¿®æ­£è¨˜éŒ„"]
                    Step6 --> Step7["â“» STEP 7: ç« ç¯€+æ‘˜è¦<br />generate_summary<br />- AI ç”Ÿæˆ YouTube ç« ç¯€<br />- AI ç”Ÿæˆå…§å®¹æ‘˜è¦"]
                    Step7 --> Output["ğŸ“¤ Output<br />corrected.vtt + metadata"]
                    Input --> Step1

                </div>

                <div style="margin-top: 40px;">
                    <h3 style="margin-bottom: 20px;">ğŸ” å„æ­¥é©Ÿè©³ç´°èªªæ˜</h3>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“µ</span> STEP 1: è§£æ VTT
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>è®€å–ä¸¦é©—è­‰ VTT æª”æ¡ˆ</p>
                            <div class="step-code">parse_vtt(file_path: str) â†’ VTTDocument</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ æª¢æŸ¥æª”æ¡ˆå­˜åœ¨æ€§</li>
                                <li>âœ“ è®€å– UTF-8 ç·¨ç¢¼</li>
                                <li>âœ“ é©—è­‰ "WEBVTT" æ¨™é ­</li>
                                <li>âœ“ è§£ææ™‚é–“æˆ³æ ¼å¼ (HH:MM:SS.mmm)</li>
                                <li>âœ“ æå–å­—å¹•æ–‡æœ¬</li>
                            </ul>
                            <p><strong>è¼¸å‡ºï¼š</strong>VTTDocument å°è±¡</p>
                            <div class="step-code">
                                {
                                header: "WEBVTT",
                                cues: [
                                VTTCue(index=1, start="00:00:01.000", end="00:00:05.000", text="..."),
                                ...
                                ],
                                styles: [...],
                                notes: [...]
                                }
                            </div>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“¶</span> STEP 2: ä¸»é¡Œåµæ¸¬
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>ç”¨ AI è­˜åˆ¥å½±ç‰‡ä¸»é¡Œå’Œé ˜åŸŸ</p>
                            <div class="step-code">step2_detect_topic(doc: VTTDocument) â†’ Dict</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ æ¡æ¨£å‰ 5 å€‹å­—å¹•</li>
                                <li>âœ“ èª¿ç”¨ Gemini API</li>
                                <li>âœ“ æç¤ºè©ï¼šè­˜åˆ¥é ˜åŸŸå’Œé—œéµå­—</li>
                                <li>âœ“ è§£æ JSON å›æ‡‰</li>
                            </ul>
                            <p><strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong></p>
                            <div class="step-code">
                                {
                                "topic": "éµäººè³½é ’çå…¸ç¦®",
                                "domain": "education",
                                "keywords": ["ç«¶è³½", "è¡¨å½°", "æŠ€è¡“"]
                                }
                            </div>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“·</span> STEP 3: è¡“èªæå–
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>æå–é ˜åŸŸå°ˆæ¥­è¡“èª</p>
                            <div class="step-code">step3_extract_terminology(doc, topic) â†’ Dict[str, str]</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ æ¡æ¨£å‰ 10 å€‹å­—å¹•</li>
                                <li>âœ“ èª¿ç”¨ AI (è€ƒæ…®é ˜åŸŸ)</li>
                                <li>âœ“ æç¤ºè©ï¼šæå–è¡“èªå®šç¾©</li>
                            </ul>
                            <p><strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong></p>
                            <div class="step-code">
                                {
                                "éµäººè³½": "Iron Contest",
                                "é ’ç": "Award Ceremony",
                                "AI": "Artificial Intelligence"
                                }
                            </div>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“¸</span> STEP 4: ç¸®å¯«å°ç…§
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>å»ºç«‹ç¸®å¯« â†” å…¨åæ˜ å°„è¡¨</p>
                            <div class="step-code">step4_map_abbreviations(doc, terminology) â†’ Dict</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ å•Ÿç™¼å¼: å…¨å¤§å¯« 2-5 å­—</li>
                                <li>âœ“ èˆ‡è¡“èªè¡¨äº¤å‰åƒè€ƒ</li>
                                <li>âœ“ å»ºç«‹ç¸®å¯«æ˜ å°„</li>
                            </ul>
                            <p><strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong></p>
                            <div class="step-code">
                                {
                                "AI": "äººå·¥æ™ºèƒ½",
                                "ML": "æ©Ÿå™¨å­¸ç¿’",
                                "API": "æ‡‰ç”¨ç¨‹å¼ä»‹é¢"
                                }
                            </div>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“·.5</span> STEP 3.5: è¡“èªå›é¥‹å„ªåŒ– ğŸ†•
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>ç”¨è¡“èªåˆ†æçµæœå„ªåŒ–ä¸»é¡Œåˆ¤æ–·</p>
                            <div class="step-code">step3_5_refine_topic_with_terminology(topic, terminology) â†’ Dict
                            </div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ äº¤å‰é©—è­‰è¡“èªèˆ‡ä¸»é¡Œ</li>
                                <li>âœ“ å¦‚ç™¼ç¾å°ˆæ¥­è¡“èªæ¯”ä¾‹é«˜</li>
                                <li>âœ“ å‡ç´šä½ä¿¡å¿ƒé ˜åŸŸåˆ¤æ–·</li>
                                <li>âœ“ ä¾‹: generalâ†’tech</li>
                            </ul>
                            <p><strong>è¨­è¨ˆç†ç”±ï¼š</strong></p>
                            <p>Phase 3 æ–°å¢çš„è·¨æ­¥é©Ÿå›é¥‹æ©Ÿåˆ¶ã€‚ç•¶ STEP 2 è­˜åˆ¥å‡ºä½ä¿¡å¿ƒ general é ˜åŸŸï¼Œä½† STEP 3 æå–å‡ºå¤§é‡å°ˆæ¥­è¡“èªæ™‚ï¼Œè‡ªå‹•å‡ç´šé ˜åŸŸåˆ¤æ–·ï¼Œæé«˜å¾ŒçºŒæ ¡æ­£æº–ç¢ºåº¦ã€‚</p>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“¹</span> STEP 5: æ‰¹æ¬¡æ ¡æ­£ â­ (æ ¸å¿ƒ)
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>AI æ‰¹é‡æ ¡æ­£æ‹¼å¯«ã€æ–‡æ³•ã€æ¨™é»</p>
                            <div class="step-code">step5_correct_cues_batch(cues, batch_size=75) â†’ Tuple</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ åˆ†æ‰¹è™•ç† (é è¨­ 75 cues/æ‰¹)</li>
                                <li>âœ“ èª¿ç”¨ Gemini æ ¡æ­£</li>
                                <li>âœ“ æç¤ºè©åŒ…å«è¡“èªè¡¨ã€ç¸®å¯«è¡¨ã€é ˜åŸŸçŸ¥è­˜</li>
                                <li>âœ“ è¿”å›ä¿®æ­£å¾Œçš„å­—å¹• + ä¿®æ­£è¨˜éŒ„</li>
                            </ul>
                            <p><strong>è¼¸å‡ºè¨˜éŒ„æ ¼å¼ï¼š</strong></p>
                            <div class="step-code">
                                {
                                "index": 5,
                                "original": "éµäººè³½é ’å¥¬å…¸ç¦®",
                                "corrected": "éµäººè³½é ’çå…¸ç¦®",
                                "type": "typo",
                                "confidence": 0.98
                                }
                            </div>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“º</span> STEP 6: è¼¸å‡ºç”Ÿæˆ
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>å¯«å…¥æ ¡æ­£å¾Œçš„æª”æ¡ˆ</p>
                            <div class="step-code">step6_generate_outputs(doc, corrections) â†’ Dict</div>
                            <p><strong>ç”¢å‡ºæª”æ¡ˆï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ corrected.vtt (æ ¡æ­£å¾Œå­—å¹•)</li>
                                <li>âœ“ corrections.txt (ä¿®æ­£æ¸…å–®)</li>
                                <li>âœ“ terminology.json (è¡“èªè¡¨)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="expandable">
                        <div class="expandable-header" onclick="toggleExpandable(this)">
                            <span class="icon">â“»</span> STEP 7: ç« ç¯€ + æ‘˜è¦
                        </div>
                        <div class="expandable-content">
                            <p><strong>åŠŸèƒ½ï¼š</strong>AI ç”Ÿæˆ YouTube ç« ç¯€å’Œå…§å®¹æ‘˜è¦</p>
                            <div class="step-code">step7_generate_summary(doc) â†’ Dict</div>
                            <p><strong>è™•ç†æµç¨‹ï¼š</strong></p>
                            <ul style="margin-left: 20px;">
                                <li>âœ“ åˆ†æå…¨æ–‡å…§å®¹</li>
                                <li>âœ“ AI è­˜åˆ¥ç« ç¯€é‚Šç•Œ</li>
                                <li>âœ“ ç”Ÿæˆæ‘˜è¦æ–‡æœ¬</li>
                            </ul>
                            <p><strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong></p>
                            <div class="step-code">
                                chapters.txt:
                                0:00 é–‹å ´è‡´è©
                                2:30 æŠ€è¡“ç«¶è³½æˆæœå±•ç¤º
                                5:10 é ’çå…¸ç¦®

                                summary.txt:
                                æœ¬å½±ç‰‡ç´€éŒ„äº†ç¬¬ 36 å±†éµäººè³½é ’çå…¸ç¦®...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 4: AI å±¤ -->
        <div class="content">
            <div class="section">
                <h2 class="section-title">ğŸ¤– AI å®¢æˆ¶ç«¯å±¤ - é›™å±¤å‚™é¸æ–¹æ¡ˆ</h2>

                <div class="mermaid">
                    graph TD
                    Prompt["ğŸ”¤ æç¤ºè©<br />éœ€è¦ AI å›æ‡‰"]
                    Check{"Gemini<br />å¯ç”¨?"}

                    Check -->|æ˜¯| GeminiCall["ğŸ“¡ Gemini API èª¿ç”¨<br />- æ¨¡å‹: gemini-2.5-flash-lite<br />- Thinking Mode
                    æ”¯æ´<br />- æˆæœ¬: -50%"]
                    Check -->|å¦| CopilotCall["ğŸ”„ Copilot CLI å‚™é¸<br />- å‘½ä»¤: copilot-cli<br />- æˆæœ¬: 0"]

                    GeminiCall --> GeminiSuccess{"æˆåŠŸ?"}
                    GeminiSuccess -->|æ˜¯| Return1["âœ… è¿”å›å›æ‡‰"]
                    GeminiSuccess -->|å¦<br />429ç­‰| Retry["âš ï¸ é‡è©¦æˆ–è½‰ç§»"]

                    Retry --> CopilotCall
                    CopilotCall --> Return2["âœ… è¿”å›å›æ‡‰"]

                    Return1 --> Parse["ğŸ” è§£æå›æ‡‰<br />- JSON æ ¼å¼<br />- è‡ªç”±æ–‡æœ¬"]
                    Return2 --> Parse
                    Parse --> Result["ğŸ“¤ è¿”å›çµæœ"]

                    Prompt --> Check

                </div>

                <div class="insight-box">
                    <h3>ğŸ¯ é›™å±¤å‚™é¸ç­–ç•¥</h3>
                    <ul>
                        <li><strong>ä¸»å±¤ï¼šgemini-2.5-flash-lite</strong> - æˆæœ¬å„ªåŒ– 50%ï¼Œé©åˆå¤§è¦æ¨¡è™•ç†</li>
                        <li><strong>å‚™é¸å±¤ï¼šCopilot CLI</strong> - å®Œå…¨é›¶æˆæœ¬ï¼Œè‡ªå‹•è½‰ç§»æ©Ÿåˆ¶</li>
                        <li><strong>è‡ªå‹•æ•…éšœè½‰ç§»ï¼š</strong>API é…é¡è€—ç›¡ (429) æˆ–è¶…æ™‚æ™‚è‡ªå‹•åˆ‡æ›</li>
                        <li><strong>å¤š Key è¼ªæ›¿ï¼š</strong>æ”¯æ´å¤šçµ„ API Key è¼ªæµä½¿ç”¨ï¼Œåˆ†æ•£é…é¡å£“åŠ›</li>
                        <li><strong>Thinking Mode ğŸ†•ï¼š</strong>æ”¯æ´æ·±åº¦æ€è€ƒæ¨¡å¼ï¼Œå¯è¨­å®šæ€è€ƒé ç®—</li>
                    </ul>
                </div>

                <h3 style="margin: 40px 0 20px 0;">API å‘¼å«æ™‚æ©Ÿ</h3>

                <table class="data-flow-table">
                    <thead>
                        <tr>
                            <th>æ­¥é©Ÿ</th>
                            <th>æç¤ºè©å…§å®¹</th>
                            <th>å›æ‡‰æ ¼å¼</th>
                            <th>ç”¨é€”</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>STEP 2</td>
                            <td>è­˜åˆ¥å½±ç‰‡é ˜åŸŸå’Œä¸»é¡Œ</td>
                            <td>JSON: topic, domain, keywords</td>
                            <td>è¨­ç½®ä¸Šä¸‹æ–‡</td>
                        </tr>
                        <tr>
                            <td>STEP 3</td>
                            <td>æå–å°ˆæ¥­è¡“èªå®šç¾©</td>
                            <td>JSON: è¡“èª â†’ å®šç¾©æ˜ å°„</td>
                            <td>å»ºç«‹è¡“èªè¡¨</td>
                        </tr>
                        <tr>
                            <td>STEP 5 â­</td>
                            <td>æ‰¹é‡æ ¡æ­£å­—å¹•<br />+ è¡“èªè¡¨ + ç¸®å¯«è¡¨</td>
                            <td>ä¿®æ­£å¾Œæ–‡æœ¬ + åŸæ–‡å°æ¯”</td>
                            <td>æ ¸å¿ƒä¿®æ­£</td>
                        </tr>
                        <tr>
                            <td>STEP 7</td>
                            <td>ç”Ÿæˆç« ç¯€å’Œæ‘˜è¦</td>
                            <td>ç« ç¯€æ¸…å–® + æ‘˜è¦æ–‡æœ¬</td>
                            <td>å¢å€¼æœå‹™</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin: 40px 0 20px 0;">æç¤ºè©å·¥ç¨‹</h3>

                <div class="expandable">
                    <div class="expandable-header" onclick="toggleExpandable(this)">
                        <span class="icon">ğŸ“„</span> STEP 5 æ‰¹æ¬¡æ ¡æ­£çš„æç¤ºè©ç¯„ä¾‹
                    </div>
                    <div class="expandable-content">
                        <div class="code-block">
                            <span class="comment"># æç¤ºè©çµæ§‹ (å®Œæ•´ç‰ˆ)</span>

                            è¦ªæ„›çš„ AI åŠ©æ‰‹ï¼Œ

                            <span class="keyword">é ˜åŸŸèƒŒæ™¯ï¼š</span>
                            æ•™è‚² / æŠ€è¡“è¬›åº§

                            <span class="keyword">è¡“èªè¡¨ï¼š</span>
                            - éµäººè³½: Iron Contest
                            - é ’ç: Award Ceremony

                            <span class="keyword">ç¸®å¯«è¡¨ï¼š</span>
                            - AI: äººå·¥æ™ºèƒ½
                            - ML: æ©Ÿå™¨å­¸ç¿’

                            <span class="keyword">ä»»å‹™ï¼š</span>
                            æ ¡æ­£ä»¥ä¸‹å­—å¹•æ–‡æœ¬ï¼Œä¿®æ­£ï¼š
                            1. æ‹¼å¯«éŒ¯èª¤ (å¦‚ "å¥¬" â†’ "ç")
                            2. æ–‡æ³•å•é¡Œ
                            3. æ¨™é»ç¬¦è™Ÿ
                            4. è¡“èªä¸€è‡´æ€§

                            <span class="keyword">å­—å¹•æ–‡æœ¬ï¼š</span>
                            1. éµäººè³½é ’å¥¬å…¸ç¦®é–‹å§‹äº†
                            2. ä»Šå¹´æœ‰è¨±å¤šå„ªç§€çš„é¸æ‰‹åƒè³½
                            ...

                            <span class="keyword">è¼¸å‡ºæ ¼å¼ï¼š</span>
                            æ ¡æ­£å¾Œçš„æ–‡æœ¬ï¼Œé€è¡Œç·¨è™Ÿã€‚
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 5: æ™‚é–“ç·š -->
        <div class="content">
            <div class="section">
                <h2 class="section-title">ğŸ“ˆ åŸ·è¡Œæ™‚é–“ç·šç¤ºä¾‹</h2>

                <p style="margin-bottom: 20px; color: #666;">ä»¥ä¸‹æ˜¯ä¸€å€‹å¯¦éš›åŸ·è¡Œå ´æ™¯çš„æ™‚é–“ç·šï¼Œå±•ç¤ºå„éšæ®µè€—æ™‚ï¼š</p>

                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-item-time">00:00</div>
                        <div class="timeline-item-content">
                            <strong>é–‹å§‹åŸ·è¡Œ</strong><br>
                            å‘½ä»¤ï¼š<code>python -m src.main input.vtt --enable-ralph-loop --iterations 5 --quality-threshold 0.95</code>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">00:02</div>
                        <div class="timeline-item-content">
                            <strong>åˆå§‹åŒ–å®Œæˆ</strong><br>
                            âœ“ è§£æåƒæ•¸<br>
                            âœ“ é©—è­‰ VTT æª”æ¡ˆ<br>
                            âœ“ åˆå§‹åŒ– Gemini å®¢æˆ¶ç«¯
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">00:05</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 1 - STEP 1-7</strong><br>
                            âœ“ è§£æ VTT (1.2MB)<br>
                            âœ“ ä¸»é¡Œåµæ¸¬: education<br>
                            âœ“ è¡“èªæå–: 15 é …<br>
                            âœ“ æ‰¹æ¬¡æ ¡æ­£ (4 æ‰¹)
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">00:35</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 1 å®Œæˆ - å“è³ªè©•ä¼°</strong><br>
                            âœ“ ä¿®æ­£ 33 é …<br>
                            âœ“ å“è³ªåˆ†æ•¸: 0.87 (87%)<br>
                            âœ“ æ±ºç­–: 87% &lt; 95% â†’ ç¹¼çºŒ<br>
                            ğŸ“ ä¿å­˜ iterations/iter_1/
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">00:36</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 2 - é–‹å§‹</strong><br>
                            ä½¿ç”¨ iterations/iter_1/corrected.vtt ä½œç‚ºè¼¸å…¥
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">01:08</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 2 å®Œæˆ</strong><br>
                            âœ“ æ–°å¢ä¿®æ­£ 12 é …<br>
                            âœ“ å“è³ªåˆ†æ•¸: 0.92 (92%)<br>
                            âœ“ æ±ºç­–: 92% &lt; 95% â†’ ç¹¼çºŒ<br>
                            ğŸ“ ä¿å­˜ iterations/iter_2/
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">01:40</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 3 å®Œæˆ</strong><br>
                            âœ“ æ–°å¢ä¿®æ­£ 5 é …<br>
                            âœ“ å“è³ªåˆ†æ•¸: 0.94 (94%)<br>
                            âœ“ æ±ºç­–: 94% &lt; 95% â†’ ç¹¼çºŒ
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">02:12</div>
                        <div class="timeline-item-content">
                            <strong>è¿­ä»£ 4 å®Œæˆ</strong><br>
                            âœ“ æ–°å¢ä¿®æ­£ 2 é …<br>
                            âœ“ å“è³ªåˆ†æ•¸: 0.96 (96%) â† ğŸ‰<br>
                            âœ“ æ±ºç­–: 96% â‰¥ 95% â†’ âœ… <strong>å®Œæˆ!</strong>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">02:13</div>
                        <div class="timeline-item-content">
                            <strong>çµæœè™•ç†</strong><br>
                            âœ“ è¤‡è£½æœ€çµ‚çµæœåˆ° output/
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-item-time">02:14</div>
                        <div class="timeline-item-content">
                            <strong>âœ… å®Œæˆ</strong><br>
                            <strong>è¼¸å‡ºæ‘˜è¦ï¼š</strong><br>
                            - è¿­ä»£æ¬¡æ•¸: 4<br>
                            - æœ€çµ‚å“è³ª: 96%<br>
                            - ç¸½ä¿®æ­£: 52 é …<br>
                            - è€—æ™‚: 2 åˆ† 14 ç§’
                        </div>
                    </div>
                </div>

                <div style="margin-top: 40px;">
                    <h3 style="margin-bottom: 20px;">ğŸ“Š æ•ˆèƒ½æŒ‡æ¨™</h3>
                    <table class="data-flow-table">
                        <thead>
                            <tr>
                                <th>éšæ®µ</th>
                                <th>è€—æ™‚</th>
                                <th>è¼¸å‡ºé‡</th>
                                <th>æˆæœ¬</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>åˆå§‹åŒ–</td>
                                <td>2 ç§’</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>è¿­ä»£ 1</td>
                                <td>30 ç§’</td>
                                <td>33 é …ä¿®æ­£</td>
                                <td>~$0.02</td>
                            </tr>
                            <tr>
                                <td>è¿­ä»£ 2</td>
                                <td>32 ç§’</td>
                                <td>12 é …ä¿®æ­£</td>
                                <td>~$0.02</td>
                            </tr>
                            <tr>
                                <td>è¿­ä»£ 3</td>
                                <td>32 ç§’</td>
                                <td>5 é …ä¿®æ­£</td>
                                <td>~$0.02</td>
                            </tr>
                            <tr>
                                <td>è¿­ä»£ 4</td>
                                <td>32 ç§’</td>
                                <td>2 é …ä¿®æ­£</td>
                                <td>~$0.02</td>
                            </tr>
                            <tr style="background: #f0f4ff; font-weight: bold;">
                                <td>åˆè¨ˆ</td>
                                <td>134 ç§’</td>
                                <td>52 é …ä¿®æ­£</td>
                                <td>~$0.08</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- TAB 6: æ ¸å¿ƒè¨­è¨ˆ -->
        <div class="content">
            <div class="section">
                <h2 class="section-title">ğŸ’¡ æ ¸å¿ƒè¨­è¨ˆåŸç† & å‰µæ–°</h2>

                <div class="insight-box">
                    <h3>ğŸŒŸ ä¸‰å¤§æ ¸å¿ƒè¨­è¨ˆ</h3>
                    <ul>
                        <li>
                            <strong>1ï¸âƒ£ Ralph Loop è¿­ä»£æ©Ÿåˆ¶</strong><br>
                            "é€²åº¦å­˜åœ¨æ–¼æª”æ¡ˆç³»çµ±ï¼Œè€Œé LLM ä¸Šä¸‹æ–‡" â€” æ¯æ¬¡è¿­ä»£ä½¿ç”¨å…¨æ–°çš„ LLMï¼Œé¿å… token ç´¯ç©å•é¡Œã€‚ç‹€æ…‹æŒä¹…åŒ–åœ¨ iterations/ ç›®éŒ„ä¸­ï¼Œç¢ºä¿å¯æ¢å¾©æ€§ã€‚
                        </li>
                        <li>
                            <strong>2ï¸âƒ£ å¤šç¶­å“è³ªè©•ä¼°</strong><br>
                            åŠ æ¬Šè©•åˆ† = éŒ¯èª¤å¯†åº¦ 40% + æ¨™é» 20% + è¡“èªä¸€è‡´ 30% + èªæ„é€£è²« 10%ã€‚é¿å…å–®ä¸€æŒ‡æ¨™çš„ç›²é»ï¼Œç¢ºä¿å…¨é¢å“è³ªã€‚
                        </li>
                        <li>
                            <strong>3ï¸âƒ£ é›™å±¤ AI å‚™é¸</strong><br>
                            Gemini Flash-Lite (-50% æˆæœ¬) + Copilot CLI (0 æˆæœ¬)ã€‚è‡ªå‹•æ•…éšœè½‰ç§»ï¼Œé…é¡ç®¡ç†ï¼Œç¢ºä¿å¯ç”¨æ€§ã€‚
                        </li>
                    </ul>
                </div>

                <h3 style="margin: 40px 0 20px 0;">ğŸ”„ æ”¶æ–‚ä¿è­‰æ©Ÿåˆ¶</h3>

                <div class="flow-step process">
                    <p><strong>å®Œæˆæ¢ä»¶ï¼ˆå¿…é ˆæ»¿è¶³å…¶ä¸€ï¼‰ï¼š</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>âœ“ <strong>å“è³ªé”æ¨™ï¼š</strong>quality_score â‰¥ 0.95</li>
                        <li>âœ“ <strong>æ”¶æ–‚åˆ¤å®šï¼š</strong>é€£çºŒ 3 æ¬¡è¿­ä»£æ”¹å–„ &lt; 1%</li>
                        <li>âœ“ <strong>æœ€å¤§è¿­ä»£ï¼š</strong>é”åˆ° max_iterations (é è¨­ 10)</li>
                    </ul>
                    <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0;">
                        é€™ä¸‰å±¤è¨­è¨ˆç¢ºä¿ç³»çµ±ä¸€å®šæœƒçµ‚æ­¢ï¼Œä¸æœƒç„¡é™è¿´åœˆã€‚
                    </p>
                </div>

                <h3 style="margin: 40px 0 20px 0;">ğŸ“š 7 æ­¥é©Ÿæµç¨‹çš„è¨­è¨ˆç†ç”±</h3>

                <table class="data-flow-table">
                    <thead>
                        <tr>
                            <th>æ­¥é©Ÿ</th>
                            <th>ç›®çš„</th>
                            <th>è¨­è¨ˆç†ç”±</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1. è§£æ</strong></td>
                            <td>çµæ§‹åŒ–ç†è§£</td>
                            <td>å¿…é ˆå…ˆè§£ææ‰èƒ½é€²è¡Œå¾ŒçºŒæ“ä½œ</td>
                        </tr>
                        <tr>
                            <td><strong>2. ä¸»é¡Œ</strong></td>
                            <td>å»ºç«‹ä¸Šä¸‹æ–‡</td>
                            <td>è®“ AI çŸ¥é“é ˜åŸŸèƒŒæ™¯ï¼Œæé«˜ä¿®æ­£æº–ç¢ºåº¦</td>
                        </tr>
                        <tr>
                            <td><strong>3. è¡“èª</strong></td>
                            <td>å»ºç«‹åƒè€ƒè¡¨</td>
                            <td>ç¢ºä¿å°ˆæ¥­è¡“èªä¸€è‡´ï¼Œé¿å…ä¿®æ”¹éŒ¯èª¤</td>
                        </tr>
                        <tr>
                            <td><strong>4. ç¸®å¯«</strong></td>
                            <td>ç¸®å¯«æ¨™æº–åŒ–</td>
                            <td>é¿å… AI ä¿®æ”¹ç¸®å¯«ï¼Œä¿æŒå°ˆæ¥­æ ¼å¼</td>
                        </tr>
                        <tr>
                            <td><strong>5. æ‰¹æ¬¡æ ¡æ­£ â­</strong></td>
                            <td>æ ¸å¿ƒä¿®æ­£</td>
                            <td>åŒ…å«å‰ 4 æ­¥çš„ä¸Šä¸‹æ–‡ï¼Œå¯¦ç¾ç²¾æº–ä¿®æ­£</td>
                        </tr>
                        <tr>
                            <td><strong>6. è¼¸å‡º</strong></td>
                            <td>æŒä¹…åŒ–</td>
                            <td>ä¿å­˜çµæœï¼Œç”¨æ–¼è¿­ä»£å’Œå¯©è¨ˆ</td>
                        </tr>
                        <tr>
                            <td><strong>7. æ‘˜è¦</strong></td>
                            <td>å¢å€¼æœå‹™</td>
                            <td>è‡ªå‹•ç”Ÿæˆç« ç¯€å’Œæ‘˜è¦ï¼Œæå‡æ•ˆç‡</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="margin: 40px 0 20px 0;">âš¡ æ€§èƒ½å„ªåŒ–ç­–ç•¥</h3>

                <div class="comparison">
                    <div class="comparison-box">
                        <h4>æ‰¹æ¬¡è™•ç†</h4>
                        <ul>
                            <li>âœ“ æ‰¹é‡å¤§å°: é è¨­ 75 cues</li>
                            <li>âœ“ å¯é€é .env èª¿æ•´</li>
                            <li>âœ“ æå‡è™•ç†æ•ˆç‡</li>
                        </ul>
                    </div>
                    <div class="comparison-box">
                        <h4>å¿«å–ç­–ç•¥</h4>
                        <ul>
                            <li>âœ“ è¡“èªè¡¨å¿«å–</li>
                            <li>âœ“ ç¸®å¯«è¡¨å¿«å–</li>
                            <li>âœ“ æ¸›å°‘é‡è¤‡è¨ˆç®—</li>
                        </ul>
                    </div>
                </div>

                <h3 style="margin: 40px 0 20px 0;">ğŸ›¡ï¸ å®¹éŒ¯è¨­è¨ˆ</h3>

                <div class="expandable">
                    <div class="expandable-header" onclick="toggleExpandable(this)">
                        <span class="icon">ğŸ”§</span> æ•…éšœè½‰ç§»æ©Ÿåˆ¶
                    </div>
                    <div class="expandable-content">
                        <div class="code-block">
                            <span class="comment"># è‡ªå‹•æ•…éšœè½‰ç§»æµç¨‹</span>

                            <span class="keyword">try:</span>
                            response = gemini_client.call(prompt)
                            <span class="keyword">except</span> (RateLimitError, TimeoutError):
                            logger.warning(<span class="string">"Gemini æš«æ™‚ä¸å¯ç”¨ï¼Œåˆ‡æ›åˆ° Copilot"</span>)
                            response = copilot_client.call(prompt)
                            <span class="keyword">except</span> Exception as e:
                            logger.error(<span class="string">"æ‰€æœ‰ AI æœå‹™å‡ä¸å¯ç”¨"</span>)
                            <span class="keyword">raise</span>

                            <span class="comment"># å¤š API Key è¼ªæ›¿</span>
                            api_keys = [key1, key2, key3, ...]
                            <span class="keyword">for</span> key <span class="keyword">in</span> api_keys:
                            <span class="keyword">try:</span>
                            response = gemini_client.call(prompt, api_key=key)
                            <span class="keyword">break</span> <span class="comment"># æˆåŠŸå³é€€å‡º</span>
                            <span class="keyword">except:</span>
                            <span class="keyword">continue</span> <span class="comment"># å˜—è©¦ä¸‹ä¸€å€‹ key</span>
                        </div>
                    </div>
                </div>

                <h3 style="margin: 40px 0 20px 0;">ğŸ“Š æˆæœ¬å„ªåŒ–åˆ†æ</h3>

                <table class="data-flow-table">
                    <thead>
                        <tr>
                            <th>æ–¹æ¡ˆ</th>
                            <th>æ¨¡å‹</th>
                            <th>æ‰¹é‡ 100 cues æˆæœ¬</th>
                            <th>å¹´æˆæœ¬ (1M cues)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>âŒ æ¨™æº–æ–¹æ¡ˆ</td>
                            <td>Gemini Pro</td>
                            <td>$0.04</td>
                            <td>$400</td>
                        </tr>
                        <tr style="background: #f0f4ff;">
                            <td>âœ… æœ€å„ªæ–¹æ¡ˆ</td>
                            <td>gemini-2.5-flash-lite</td>
                            <td>$0.02 (-50%)</td>
                            <td>$200</td>
                        </tr>
                        <tr style="background: #e8f5e9;">
                            <td>ğŸ† é›¶æˆæœ¬å‚™é¸</td>
                            <td>Copilot CLI</td>
                            <td>$0 (å…è²»)</td>
                            <td>$0</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2026 exam36 VTT å­—å¹•æ ¡æ­£å·¥å…· | Ralph Loop è¿­ä»£æ”¹é€²ç³»çµ±</p>
            <p style="margin-top: 10px; font-size: 0.9em; color: #999;">æ­¤åœ–è¡¨ç”± HTML + Mermaid ç”Ÿæˆ | äº’å‹•å¼è¨­è¨ˆä¾¿æ–¼ç†è§£</p>
        </div>
    </div>

    <script>
        // Backup original Mermaid source code before rendering
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.mermaid').forEach(function (el) {
                // Store original source code
                if (!el.getAttribute('data-source')) {
                    el.setAttribute('data-source', el.textContent.trim());
                }
            });
        });

        async function renderMermaidInContainer(container) {
            const mermaidNodes = container.querySelectorAll('.mermaid');
            for (const node of mermaidNodes) {
                const source = node.getAttribute('data-source');
                if (source) {
                    try {
                        // Generate unique ID for each render
                        const id = 'mermaid-' + Math.random().toString(36).substr(2, 9);
                        const { svg } = await mermaid.render(id, source);
                        node.innerHTML = svg;
                    } catch (e) {
                        console.error('Mermaid render error:', e);
                    }
                }
            }
        }

        function switchTab(index) {
            const tabs = document.querySelectorAll('.nav-tab');
            const contents = document.querySelectorAll('.content');

            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            contents.forEach((content, i) => {
                content.classList.toggle('active', i === index);
            });

            // Re-render Mermaid charts in the newly active tab
            const activeContent = contents[index];
            setTimeout(() => {
                renderMermaidInContainer(activeContent);
            }, 50);
        }

        function toggleExpandable(header) {
            header.classList.toggle('expanded');
            const content = header.nextElementSibling;
            content.classList.toggle('visible');
        }

        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: false,  // Disable auto-start, we control rendering
            theme: 'default',
            fontFamily: 'Arial, sans-serif'
        });

        // Render initial active tab after page load
        window.addEventListener('load', function () {
            const activeContent = document.querySelector('.content.active');
            if (activeContent) {
                renderMermaidInContainer(activeContent);
            }
        });
    </script>
</body>

</html>
